import Writable

class ScriptWriter:
    def __init__(self, filePath):
        self.path = filePath
        self.lines = []

    def add(self, writable):
        self.lines.append(writable)

        return self

    def andParalell(self, writable):
        self.lines.append(Writable.ParalellAnd())
        self.lines.append(writable)

        return self

    def flush(self):
        f = open(self.path, 'w')
        f.write('#This script was generated by volatileBash\n true')
        f.close()

        f = open(self.path, 'a')
        for writable in self.lines:
            print writable.toString()
            f.write(' & ' + writable.toString())
        f.close()
