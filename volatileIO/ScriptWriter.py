import Writable
import FileMaker

class ScriptWriter:
    def __init__(self, filePath):
        self.path = filePath
        self.lines = []

    def add(self, writable):
        self.lines.append(writable)

        return self

    def andParalell(self, writable):
        self.lines.append(Writable.ParalellAnd())
        self.lines.append(writable)

        return self

    def flush(self):
        FileMaker.makeFile(self.path, '#This script was generated by volatileBash\n true')

        f = open(self.path, 'a')
        for writable in self.lines:
            print str(writable)
            f.write(' & ' + str(writable))
        f.close()
